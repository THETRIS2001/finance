<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Note Varie</title>
    <link rel="stylesheet" href="styles.css">
    <!-- MathJax per il rendering delle formule matematiche -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        /* Stili per la sezione orari di trading */
        .trading-hours {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        
        .trading-hours h3 {
            border-bottom: 2px solid #007bff;
            padding-bottom: 8px;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .trading-hours ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .trading-hours li {
            padding: 8px 0;
            display: flex;
            align-items: center;
        }
        
        .trading-hours li::before {
            content: "•";
            color: #007bff;
            font-weight: bold;
            margin-right: 10px;
            font-size: 18px;
        }
        
        /* Aggiungo stile per la spaziatura dopo i due punti */
        .label-value strong {
            margin-right: 8px;
        }
        
        .time-value {
            display: inline-block;
            margin-left: 8px;
        }

        /* Stili per il calendario */
        .calendar-container {
            margin-top: 20px;
        }
        
        .calendar-toggle {
            background: linear-gradient(135deg, #1a2a6c, #2c3e50);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            transition: all 0.3s ease;
        }
        
        .calendar-toggle:hover {
            background: linear-gradient(135deg, #2c3e50, #1a2a6c);
        }
        
        .calendar-toggle svg {
            width: 18px;
            height: 18px;
            margin-left: 10px;
            transition: transform 0.3s ease;
        }
        
        .calendar-toggle.active svg {
            transform: rotate(180deg);
        }
        
        .calendar-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
            background-color: white;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        .calendar-content.show {
            max-height: 1000px;
        }
        
        .calendar-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 0;
        }
        
        .calendar-table th {
            background-color: #f1f5fb;
            padding: 10px;
            text-align: left;
            border-bottom: 2px solid #e0e0e0;
            color: #2c3e50;
        }
        
        .calendar-table td {
            padding: 10px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .calendar-table tr:last-child td {
            border-bottom: none;
        }
        
        .calendar-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .calendar-table tr:hover {
            background-color: #f1f5fb;
        }
        
        .date-col {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .holiday-col {
            color: #505050;
        }
        
        .status-col {
            font-weight: 500;
        }
        
        .no-trading {
            color: #e74c3c;
        }
        
        .limited-trading {
            color: #f39c12;
        }
        
        .market-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .market-card {
            flex: 1;
            min-width: 250px;
            background-color: #fff;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .market-card h4 {
            color: #2c3e50;
            margin-top: 0;
            border-bottom: 1px solid #eaeaea;
            padding-bottom: 8px;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>Note Varie</h1>
        </header>
        <main>
            <a href="index.html" class="back-link">← Torna alla pagina principale</a>

            <div class="chart-container">
                <section>
                    <h2>Orari di Trading</h2>
                    <div class="trading-hours">
                        <div class="market-info">
                            <div class="market-card">
                                <h4>Borsa Lang & Schwarz / Borsa di Amburgo</h4>
                                <ul class="label-value">
                                    <li><strong>Orari di apertura: </strong><span class="time-value">7:30 - 23:00</span></li>
                                    <li><strong>Orari Derivati: </strong><span class="time-value">08:00 - 22:00</span></li>
                                </ul>
                            </div>
                            
                            <div class="market-card">
                                <h4>Trade Republic - Fasi di Trading</h4>
                                <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                                    <thead>
                                        <tr>
                                            <th style="text-align: left; border-bottom: 1px solid #eaeaea; padding: 8px 4px;">Fase</th>
                                            <th style="text-align: left; border-bottom: 1px solid #eaeaea; padding: 8px 4px;">Orario (italiano)</th>
                                            <th style="text-align: left; border-bottom: 1px solid #eaeaea; padding: 8px 4px;">Dove operi</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="padding: 8px 4px; border-bottom: 1px solid #ffffff;">Pre-market</td>
                                            <td style="padding: 8px 4px; border-bottom: 1px solid #ffffff;">7:30 – 15:30</td>
                                            <td style="padding: 8px 4px; border-bottom: 1px solid #ffffff;">LS Exchange (non NYSE/NASDAQ)</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 8px 4px; border-bottom: 1px solid #ffffff;">Regolare</td>
                                            <td style="padding: 8px 4px; border-bottom: 1px solid #ffffff;">15:30 – 22:00</td>
                                            <td style="padding: 8px 4px; border-bottom: 1px solid #ffffff;">Coincide con NYSE/NASDAQ aperti</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 8px 4px;">Post-market</td>
                                            <td style="padding: 8px 4px;">22:00 – 23:00</td>
                                            <td style="padding: 8px 4px;">Sempre LS Exchange</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="calendar-container">
                            <button class="calendar-toggle" id="calendarToggle">
                                Calendario Trading 2025
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div class="calendar-content" id="calendarContent">
                                <table class="calendar-table">
                                    <thead>
                                        <tr>
                                            <th>Data</th>
                                            <th>Evento</th>
                                            <th>Stato</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="date-col">24.12.2024</td>
                                            <td class="holiday-col">Vigilia di Natale</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">25.12.2024</td>
                                            <td class="holiday-col">Natale</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">26.12.2024</td>
                                            <td class="holiday-col">Santo Stefano</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">30.12.2024</td>
                                            <td class="holiday-col">Lunedì</td>
                                            <td class="status-col limited-trading">Aperto fino alle 14:00</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">31.12.2024</td>
                                            <td class="holiday-col">Vigilia di Capodanno</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">01.01.2025</td>
                                            <td class="holiday-col">Capodanno</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">18.04.2025</td>
                                            <td class="holiday-col">Venerdì Santo</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">19.04.2025</td>
                                            <td class="holiday-col">Pasqua</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">20.04.2025</td>
                                            <td class="holiday-col">Pasqua</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">21.04.2025</td>
                                            <td class="holiday-col">Pasquetta</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">01.05.2025</td>
                                            <td class="holiday-col">Festa del Lavoro</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">24.12.2025</td>
                                            <td class="holiday-col">Vigilia di Natale</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">25.12.2025</td>
                                            <td class="holiday-col">Natale</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">26.12.2025</td>
                                            <td class="holiday-col">Santo Stefano</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">30.12.2025</td>
                                            <td class="holiday-col">Martedì</td>
                                            <td class="status-col limited-trading">Aperto fino alle 14:00</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">31.12.2025</td>
                                            <td class="holiday-col">Vigilia di Capodanno</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                        <tr>
                                            <td class="date-col">01.01.2026</td>
                                            <td class="holiday-col">Capodanno</td>
                                            <td class="status-col no-trading">Chiuso</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Oscillazioni e Perdita Percentuale</h2>
                    <p>
                        Scendere e salire del 10% o salire e poi scendere non cambia nulla perché corrisponde a 
                        <strong>1.1 × 0.9</strong> o a <strong>0.9 × 1.1</strong> e l'ordine con cui moltiplico non cambia.
                    </p>
                    <p>
                        La perdita percentuale dovuta all'oscillazione su e giù della stessa percentuale con <strong>L</strong> leva e 
                        <strong>x</strong> percentuale di salita e discesa è data da:
                    </p>
                    <p style="text-align: center;">
                        \[ \frac{L^2 \times x^2}{100} % \]
                    </p>

                    <h3>Esempio:</h3>
                    <p>
                        Se <strong>L = 3</strong> e <strong>x = 15%</strong>:
                    </p>
                    <p style="text-align: center;">
                        \[ \frac{3^2 \times 15^2}{100} = 20.25% \]
                    </p>
                    <p>
                        Cioè, a leva <strong>3</strong>, scendere e risalire il giorno dopo del <strong>15%</strong> comporta una perdita del <strong>20.25%</strong>.
                    </p>
                    <p>
                        Per più oscillazioni consecutive, il calcolo diventa più complesso.
                    </p>
                </section>

                <section>
                    <h2>Selezione delle Azioni negli ETF</h2>
                    
                    <h3>1. Per Settore</h3>
                    
                    <h3>2. Per Paesi</h3>
                    
                    <h3>3. Per Fattori</h3>
                    <ul>
                        <li><strong>ETF Large Cap / Small Cap / Mid Cap</strong>: Classificano le aziende in base alla capitalizzazione di mercato.</li>
                        <li><strong>ETF Value</strong>: Investono in società sottovalutate in base a indicatori come P/E, P/B e dividend yield.</li>
                        <li><strong>ETF Growth</strong>: Puntano su aziende con alto potenziale di crescita di ricavi ed utili.</li>
                        <li><strong>ETF Momentum</strong>: Sfruttano il fenomeno dell'inerzia del mercato selezionando titoli con trend positivi recenti.</li>
                        <li><strong>ETF Low Volatility</strong>: Focalizzati su azioni con minori oscillazioni di prezzo.</li>
                        <li><strong>ETF Quality</strong>: Selezionano aziende con bilanci solidi e alta redditività.</li>
                        <li><strong>ETF Dividend</strong>: Investono in società con alti dividendi o in crescita.</li>
                        <li><strong>ETF Multi-Factor</strong>: Combinano più fattori per migliorare il rapporto rischio/rendimento.</li>
                    </ul>
                </section>

                <section>
                    <h2>Ponderazione delle Azioni</h2>
                    <ul>
                        <li><strong>Market Cap Weighted</strong>: Ponderazione basata sulla capitalizzazione di mercato.</li>
                        <li><strong>Equal Weighted</strong>: Ogni azione ha lo stesso peso nell'indice.</li>
                        <li><strong>Country Weighted</strong>: Ponderazione basata sulla nazione di appartenenza.</li>
                    </ul>
                </section>

                <section>
                    <h2>Leva con Knockout</h2>
                    <p>
                        La leva con knockout viene calcolata come mostrato sotto, non è fissa.
                    </p>
                    <p>
                        In particolare, il livello di knockout è pensato per essere sempre tale che la leva ottenuta corrisponda a una perdita del 100% se raggiunto il knockout.
                    </p>
                    <p class="label-value"><strong>Esempio: </strong><span class="time-value"></span></p>
                    <ul>
                        <li>Leva <strong>x15</strong> significa che se il sottostante sta a <strong>100 €</strong>, il knockout sta a <strong>93,33 €</strong>.</li>
                        <li>Quindi, se perdo il <strong>6,66%</strong> del sottostante, ciò corrisponde a un <strong>-100%</strong> del derivato.</li>
                        <li>In questo caso, viene raggiunto il knockout e il sistema vende automaticamente per evitare l'indebitamento.</li>
                    </ul>
                    <p>
                        La leva si ricalcola all'aggiornarsi del sottostante, tendendo ad aumentare esponenzialmente tanto più siamo vicini al knockout.
                    </p>
                    <div style="overflow-x: auto; -webkit-overflow-scrolling: touch;">
                        <p style="text-align: center;">
                          \[ \text{Leva} = \frac{\text{Prezzo del sottostante}}{\text{Prezzo del sottostante} - \text{Livello di knockout}} \]
                        </p>
                      </div>
                </section>
            </div>
        </main>
    </div>

    <script>
        // Script per il menu a espansione del calendario
        document.addEventListener('DOMContentLoaded', function() {
            const calendarToggle = document.getElementById('calendarToggle');
            const calendarContent = document.getElementById('calendarContent');
            
            calendarToggle.addEventListener('click', function() {
                calendarContent.classList.toggle('active');
                calendarContent.classList.toggle('show');
            });
            
            // Filtraggio dinamico per nascondere le date passate
            filterPastDates();
        });
        
        function filterPastDates() {
            const today = new Date();
            const rows = document.querySelectorAll('.calendar-table tbody tr');
            let visibleDatesCount = 0;
            
            // Prima nascondiamo tutte le date passate
            rows.forEach(row => {
                const dateCell = row.querySelector('.date-col');
                if (dateCell) {
                    // Formato data: DD.MM.YYYY
                    const dateParts = dateCell.textContent.split('.');
                    if (dateParts.length === 3) {
                        const day = parseInt(dateParts[0], 10);
                        const month = parseInt(dateParts[1], 10) - 1; // I mesi in JavaScript sono 0-based
                        const year = parseInt(dateParts[2], 10);
                        
                        const rowDate = new Date(year, month, day);
                        
                        // Se la data è passata, nascondi la riga
                        if (rowDate < today) {
                            row.style.display = 'none';
                        } else {
                            visibleDatesCount++;
                        }
                    }
                }
            });
            
            // Aggiorna il titolo del calendario con il numero di date future
            const calendarToggle = document.getElementById('calendarToggle');
            
            // Conserviamo il contenuto dell'elemento SVG originale
            const originalSvg = calendarToggle.querySelector('svg');
            
            // Aggiorna il testo del pulsante con il conteggio delle date
            calendarToggle.innerHTML = `Calendario Trading (${visibleDatesCount} date)`;
            
            // Ricrea l'icona SVG
            if (originalSvg) {
                const newSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                newSvg.setAttribute("viewBox", "0 0 24 24");
                newSvg.setAttribute("fill", "none");
                newSvg.setAttribute("stroke", "currentColor");
                newSvg.setAttribute("stroke-width", "2");
                newSvg.setAttribute("stroke-linecap", "round");
                newSvg.setAttribute("stroke-linejoin", "round");
                
                const polyline = document.createElementNS("http://www.w3.org/2000/svg", "polyline");
                polyline.setAttribute("points", "6 9 12 15 18 9");
                
                newSvg.appendChild(polyline);
                calendarToggle.appendChild(newSvg);
            }
            
            // Se non ci sono date future, aggiungi un messaggio
            if (visibleDatesCount === 0) {
                // Rimuovi la tabella esistente
                const calendarTable = document.querySelector('.calendar-table');
                if (calendarTable) {
                    calendarTable.style.display = 'none';
                }
                
                // Verifica se il messaggio esiste già prima di aggiungerlo
                const existingMessage = document.querySelector('.no-events-message');
                if (!existingMessage) {
                    const noEventsMessage = document.createElement('p');
                    noEventsMessage.className = 'no-events-message';
                    noEventsMessage.textContent = "Non ci sono eventi di trading speciali nel periodo corrente.";
                    noEventsMessage.style.textAlign = 'center';
                    noEventsMessage.style.padding = '20px';
                    noEventsMessage.style.color = '#666';
                    
                    const calendarContentDiv = document.getElementById('calendarContent');
                    if (calendarContentDiv) {
                        calendarContentDiv.appendChild(noEventsMessage);
                    }
                }
            }
        }
    </script>
</body>

</html>